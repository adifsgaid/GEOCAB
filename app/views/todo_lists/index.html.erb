<div class="main-container">

 <div class="wrapper_todo">

  <div class="todo-checklist todo-card">
    <div class="progress">
      <span class="progress-bar progress-bar-striped progress-bar-animated"  id="CheckProgress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></span>
    </div>

    <h4 class="card-title my-4">Mes démarches administrative</h4> <hr>

    <div class="my-5">
    <%= simple_form_for current_user do |f| %>

    <div class="wrapper-cheklist">
      <div class="d-flex justify-content-between">
        <p>- Inscription au Conseil Départemental de l'Ordre</p>
        <div class="field">
           <%= f.input :ordre, label: "Fait", as: :boolean, :checked => 0 ,  input_html: { class: 'custom-check-box' }%>
        </div>
      </div>

    <div class="d-flex justify-content-between">
      <p>- Enregristrement auprès de la CPAM</p>
      <div class="field">
        <%= f.input :cpam, label: "Fait", as: :boolean, :checked => 0,  input_html: { class: 'custom-check-box' }%>
      </div>
    </div>

    <div class="d-flex justify-content-between">
      <p>- Déclaration auprès de l'URSSAF</p>
      <div class="field">
        <%= f.input :urssaf, label: "Fait", as: :boolean, :checked => 0,  input_html: { class: 'custom-check-box' }%>
      </div>
    </div>

    <div class="d-flex justify-content-between">
      <p>- Inscription à la CARPIMKO</p>
      <div class="field">
        <%= f.input :retraite, label: "Fait", as: :boolean, :checked => 0, input_html: { class: 'custom-check-box' } %>
      </div>
    </div>

    <div class="d-flex justify-content-between">
    <p>- Inscription à une Assurance en responsabilité Civile Professionnelle.</p>
      <div class="field">
        <%= f.input :assurance_rcp, label: "Fait", as: :boolean, :checked => 0, input_html: { class: 'custom-check-box' } %>
      </div>
    </div>

    <%= f.submit "Mise à jour votre To-do!", class: "btn btn-primary mt-3", id: "button" %>

  </div>
  <% end %>

  </div>
  </div>

  <div class="todo-progress todo-card">

  </div>

  <div class="todo-links todo-card">

  </div>

</div>

  </div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<style> .progress-bar { width: 0;}</style>
 <script>
    $(document).ready(function() {
      let $checkboxes = $('.custom-check-box');
      let $progress = $('#CheckProgress');
      let total = $checkboxes.length;


      $checkboxes.on('change', function() {
        let checked = $checkboxes.filter(':checked').length;
        let progressWidth = (checked / total) * 100;
        $('.progress-bar').css('width', progressWidth + '%');
  });
});
 </script>

