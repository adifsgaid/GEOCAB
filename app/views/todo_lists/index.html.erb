<div class="container">
  <h1>TodoLists#index</h1>
  <p>Find me in app/views/todo_lists/index.html.erb</p>
 <div class="progress">
  <span class="progress-bar progress-bar-striped progress-bar-animated"  id="CheckProgress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></span>
</div>
  <%= simple_form_for current_user do |f| %>
       <p>- Inscription au Conseil Départemental de l'Ordre</p>
        <div class="field">
        <%= f.input :ordre, as: :boolean, :checked => 0 ,  input_html: { class: 'custom-check-box' }%>
    </div>
    <p>- Enregristrement auprès de la CPAM</p>
      <div class="field">
      <%= f.input :cpam, as: :boolean, :checked => 0,  input_html: { class: 'custom-check-box' }%>
    </div>
    <p>- Déclaration auprès de l'URSSAF</p>
      <div class="field">
      <%= f.input :urssaf, as: :boolean, :checked => 0,  input_html: { class: 'custom-check-box' }%>
    </div>
    <p>- Inscription à la CARPIMKO</p>
      <div class="field">
      <%= f.input :retraite, as: :boolean, :checked => 0, input_html: { class: 'custom-check-box' } %>
    </div>
    <p>- Inscription à une Assurance en responsabilité Civile Professionnelle.</p>
      <div class="field">
      <%= f.input :assurance_rcp, as: :boolean, :checked => 0, input_html: { class: 'custom-check-box' } %>
      <%= f.submit "Mise à jour votre To-do!", class: "btn btn-primary", id: "button" %>
    </div>
  <% end %>
  </div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>


<style> .progress-bar { width: 0;}</style>


 <script>
    $(document).ready(function() {
      let $checkboxes = $('.custom-check-box');
      let $progress = $('#CheckProgress');
      let total = $checkboxes.length;


      $checkboxes.on('change', function() {
        let checked = $checkboxes.filter(':checked').length;
        let progressWidth = (checked / total) * 100;
        $('.progress-bar').css('width', progressWidth + '%');
  });
});
  setTimeout(function(){
    //deferred onload
  }, 2000);
 </script>

